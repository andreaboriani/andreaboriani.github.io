(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{"./bundles/notifications.js":function(t,e,i){"use strict";i.r(e);var s=i("../node_modules/@babel/runtime/helpers/typeof.js"),n=i.n(s);window.sf=window.sf||{},window.sf.notifications=function(t,e,i,s){var o,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l=function(t,e,i,s){var o,r=arguments.length,l=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==("undefined"==typeof Reflect?"undefined":n()(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,i,s);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(l=(r<3?o(l):r>3?o(e,i,l):o(e,i))||l);return r>3&&l&&Object.defineProperty(e,i,l),l},a="e-toast",h="e-toast-message",d="e-toast-progress",p="e-toast-close-icon",c=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return r(i,t),l([e.Property("Left")],i.prototype,"X",void 0),l([e.Property("Top")],i.prototype,"Y",void 0),i}(e.ChildProperty),u=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return r(i,t),l([e.Property(null)],i.prototype,"model",void 0),l([e.Property(null)],i.prototype,"click",void 0),i}(e.ChildProperty),f=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return r(i,t),l([e.Property("FadeIn")],i.prototype,"effect",void 0),l([e.Property(600)],i.prototype,"duration",void 0),l([e.Property("ease")],i.prototype,"easing",void 0),i}(e.ChildProperty),m=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return r(i,t),l([e.Complex({effect:"FadeIn",duration:600,easing:"ease"},f)],i.prototype,"show",void 0),l([e.Complex({effect:"FadeOut",duration:600,easing:"ease"},f)],i.prototype,"hide",void 0),i}(e.ChildProperty),y=function(t){function o(e,i){var s=t.call(this,e,i)||this;return s.toastCollection=[],s}return r(o,t),o.prototype.getModuleName=function(){return"toast"},o.prototype.getPersistData=function(){return this.addOnPersist([])},o.prototype.destroy=function(){this.hide("All"),this.element.classList.remove("e-toast-container"),e.setStyleAttribute(this.element,{position:"","z-index":""}),e.isNullOrUndefined(this.refElement)||e.isNullOrUndefined(this.refElement.parentElement)||(this.refElement.parentElement.insertBefore(this.element,this.refElement),e.detach(this.refElement),this.refElement=void 0),t.prototype.destroy.call(this)},o.prototype.preRender=function(){this.isDevice=e.Browser.isDevice,"300px"===this.width&&(this.width=this.isDevice&&screen.width<768?"100%":"300px"),e.isNullOrUndefined(this.target)&&(this.target=document.body),this.enableRtl&&!this.isBlazorServer()&&this.element.classList.add("e-rtl")},o.prototype.render=function(){if(this.progressObj=[],this.intervalId=[],this.contentTemplate=null,this.toastTemplate=null,this.isDevice&&screen.width<768&&new e.Touch(this.element,{swipe:this.swipeHandler.bind(this)}),this.renderComplete(),!e.isNullOrUndefined(this.element.parentElement)){var t=this.element.parentElement;this.refElement=this.createElement("div",{className:"e-toast-ref-element"}),t.insertBefore(this.refElement,this.element)}this.initRenderClass=this.element.className},o.prototype.show=function(t){var i;if(e.isNullOrUndefined(t)||(this.templateChanges(t),i=JSON.parse(JSON.stringify(t)),e.extend(this,this,t)),e.isNullOrUndefined(this.toastContainer)){this.toastContainer=this.getContainer();var s="string"==typeof this.target?document.querySelector(this.target):document.body;if(e.isNullOrUndefined(s))return;"BODY"===s.tagName?this.toastContainer.style.position="fixed":(this.toastContainer.style.position="absolute",s.style.position="relative"),this.setPositioning(this.position),s.appendChild(this.toastContainer)}this.isBlazorServer()&&this.element.classList.contains("e-control")?this.isToastModel(t):(this.toastEle=this.createElement("div",{className:a,id:e.getUniqueID("toast")}),this.setWidthHeight(),this.setCSSClass(this.cssClass),e.isNullOrUndefined(this.template)||""===this.template?this.personalizeToast():this.templateRendering(),this.setProgress(),this.setCloseButton(),this.setAria(),this.appendToTarget(t),e.isNullOrUndefined(i)||(e.extend(i,{element:[this.toastEle]},!0),this.toastCollection.push(i)))},o.prototype.isToastModel=function(t){this.toastContainer=this.element,this.setPositioning(this.position);e.isNullOrUndefined(this.element.lastElementChild)||(this.toastEle=this.element.lastElementChild,this.setProgress()),this.setAria(),this.appendToTarget(t)},o.prototype.swipeHandler=function(t){var i=e.closest(t.originalEvent.target,".e-toast:not(.e-toast-container)"),s=this.animation.hide.effect;e.isNullOrUndefined(i)||("Right"===t.swipeDirection?(this.animation.hide.effect="SlideRightOut",this.hide(i)):"Left"===t.swipeDirection&&(this.animation.hide.effect="SlideLeftOut",this.hide(i)),this.animation.hide.effect=s)},o.prototype.templateChanges=function(t){e.isUndefined(t.content)||e.isNullOrUndefined(this.contentTemplate)||this.content===t.content||this.clearContentTemplate(),e.isUndefined(t.template)||e.isNullOrUndefined(this.toastTemplate)||this.template===t.template||this.clearToastTemplate()},o.prototype.setCSSClass=function(t){if(t){var i=-1!==t.indexOf(",")?",":" ";e.classList(this.toastEle,t.split(i),[])}},o.prototype.setWidthHeight=function(){"300px"===this.width?this.toastEle.style.width=e.formatUnit(this.width):"100%"===this.width?this.toastContainer.classList.add("e-toast-full-width"):(this.toastEle.style.width=e.formatUnit(this.width),this.toastContainer.classList.remove("e-toast-full-width")),this.toastEle.style.height=e.formatUnit(this.height)},o.prototype.templateRendering=function(){this.fetchEle(this.toastEle,this.template,"template")},o.prototype.sanitizeHelper=function(t){if(this.enableHtmlSanitizer){var i=e.SanitizeHtmlHelper.beforeSanitize();e.extend(i,i,{cancel:!1,helper:null}),this.trigger("beforeSanitizeHtml",i),i.cancel&&!e.isNullOrUndefined(i.helper)?t=i.helper(t):i.cancel||(t=e.SanitizeHtmlHelper.serializeValue(i,t))}return t},o.prototype.hide=function(t){if(!e.isNullOrUndefined(this.toastContainer)&&0!==this.toastContainer.childElementCount)if("string"!=typeof t||"All"!==t)e.isNullOrUndefined(t)&&(t=this.newestOnTop?this.toastContainer.lastElementChild:this.toastContainer.firstElementChild),this.destroyToast(t);else for(var i=0;i<this.toastContainer.childElementCount;i++)this.destroyToast(this.toastContainer.children[i])},o.prototype.fetchEle=function(t,i,s){var n,o,r,l;if(i="string"==typeof i?this.sanitizeHelper(i):i,l=t.classList.contains("e-toast-title")?this.element.id+"title":t.classList.contains("e-toast-content")?this.element.id+"content":this.element.id+"template",o="content"===s?this.contentTemplate:this.toastTemplate,!e.isNullOrUndefined(o))return t.appendChild(o.cloneNode(!0)),t;try{if(document.querySelectorAll(i).length>0){var a=null;"title"!==s&&(a=document.querySelector(i),t.appendChild(a),a.style.display="");var h=e.isNullOrUndefined(a)?o:a.cloneNode(!0);"content"===s?this.contentTemplate=h:this.toastTemplate=h}}catch(t){n=e.compile(i)}return e.isNullOrUndefined(n)||(r=this.isBlazorServer()?n({},this,s,l,!0):n({},this,s,null,!0)),e.isNullOrUndefined(r)||!(r.length>0)||e.isNullOrUndefined(r[0].tagName)&&1===r.length?0===t.childElementCount&&(t.innerHTML=i):[].slice.call(r).forEach((function(i){e.isNullOrUndefined(i.tagName)||(i.style.display=""),t.appendChild(i)})),t},o.prototype.clearProgress=function(t){e.isNullOrUndefined(this.intervalId[t])||(clearInterval(this.intervalId[t]),delete this.intervalId[t]),e.isNullOrUndefined(this.progressObj[t])||(clearInterval(this.progressObj[t].intervalId),delete this.progressObj[t])},o.prototype.clearContainerPos=function(){var t=this;this.isBlazorServer()?this.toastContainer=null:(this.customPosition?(e.setStyleAttribute(this.toastContainer,{left:"",top:""}),this.toastContainer=null,this.customPosition=!1):([a+"-top-left",a+"-top-right",a+"-bottom-left",a+"-bottom-right",a+"-bottom-center",a+"-top-center",a+"-full-width"].forEach((function(i){!e.isNullOrUndefined(t.toastContainer)&&t.toastContainer.classList.contains(i)&&t.toastContainer.classList.remove(i)})),this.toastContainer=null),e.isNullOrUndefined(this.contentTemplate)||this.clearContentTemplate(),e.isNullOrUndefined(this.toastTemplate)||this.clearToastTemplate())},o.prototype.clearContentTemplate=function(){this.contentTemplate.style.display="none",document.body.appendChild(this.contentTemplate),this.contentTemplate=null},o.prototype.clearToastTemplate=function(){this.toastTemplate.style.display="none",document.body.appendChild(this.toastTemplate),this.toastTemplate=null},o.prototype.isBlazorServer=function(){return e.isBlazor()&&this.isServerRendered},o.prototype.destroyToast=function(t){for(var i,s=this,n=0;n<this.toastCollection.length;n++)this.toastCollection[n].element[0]===t&&(i=this.toastCollection[n],this.toastCollection.splice(n,1));var o=this.animation.hide,r={duration:o.duration,name:o.effect,timingFunction:o.easing},l=parseInt(t.id.split("toast_")[1],10),a=this.isBlazorServer()?{options:i,toastContainer:this.toastContainer}:{options:i,toastContainer:this.toastContainer,toastObj:this};e.isNullOrUndefined(this.progressObj[l])||e.isNullOrUndefined(t.querySelector("."+d))||(this.progressObj[l].progressEle.style.width="0%"),r.end=function(){s.clearProgress(l),s.isBlazorServer()&&!e.isNullOrUndefined(i)||e.detach(t),s.trigger("close",a),0===s.toastContainer.childElementCount&&s.clearContainerPos()},new e.Animation({}).animate(t,r)},o.prototype.personalizeToast=function(){this.setIcon(),this.setTitle(),this.setContent(),this.actionButtons()},o.prototype.setAria=function(){e.attributes(this.toastEle,{role:"alert"})},o.prototype.setPositioning=function(t){this.isBlazorServer()||(isNaN(parseFloat(t.X))&&isNaN(parseFloat(t.Y))?this.toastContainer.classList.add(a+"-"+t.Y.toString().toLowerCase()+"-"+t.X.toString().toLowerCase()):(this.customPosition=!0,e.setStyleAttribute(this.toastContainer,{left:e.formatUnit(t.X),top:e.formatUnit(t.Y)})))},o.prototype.setCloseButton=function(){if(this.showCloseButton){this.l10n=new e.L10n("toast",{close:"Close"},this.locale),this.l10n.setLocale(this.locale);var t=this.l10n.getConstant("close"),i=this.createElement("div",{className:p+" e-icons ",attrs:{tabindex:"0","aria-label":t}});this.toastEle.appendChild(i)}},o.prototype.setProgress=function(){if(this.timeOut>0){var t=parseInt(this.toastEle.id.split("toast_")[1],10);this.intervalId[t]=window.setTimeout(this.destroyToast.bind(this,this.toastEle),this.timeOut),this.progressObj[t]={hideEta:null,intervalId:null,maxHideTime:null,element:null,timeOutId:null,progressEle:null},this.progressObj[t].maxHideTime=parseFloat(this.timeOut+""),this.progressObj[t].hideEta=(new Date).getTime()+this.progressObj[t].maxHideTime,this.progressObj[t].element=this.toastEle,this.extendedTimeout>0&&(e.EventHandler.add(this.toastEle,"mouseover",this.toastHoverAction.bind(this,t)),e.EventHandler.add(this.toastEle,"mouseleave",this.delayedToastProgress.bind(this,t)),this.progressObj[t].timeOutId=this.intervalId[t]),this.showProgressBar&&(this.progressBarEle=this.createElement("div",{className:d}),this.toastEle.insertBefore(this.progressBarEle,this.toastEle.children[0]),this.progressObj[t].intervalId=setInterval(this.updateProgressBar.bind(this,this.progressObj[t]),10),this.progressObj[t].progressEle=this.progressBarEle)}},o.prototype.toastHoverAction=function(t){clearTimeout(this.progressObj[t].timeOutId),clearInterval(this.progressObj[t].intervalId),this.progressObj[t].hideEta=0;var i=this.progressObj[t].element;e.isNullOrUndefined(i.querySelector("."+d))||(this.progressObj[t].progressEle.style.width="0%")},o.prototype.delayedToastProgress=function(t){var i=this.progressObj[t],s=i.element;i.timeOutId=window.setTimeout(this.destroyToast.bind(this,s),this.extendedTimeout),i.maxHideTime=parseFloat(this.extendedTimeout+""),i.hideEta=(new Date).getTime()+i.maxHideTime,e.isNullOrUndefined(s.querySelector("."+d))||(i.intervalId=setInterval(this.updateProgressBar.bind(this,i),10))},o.prototype.updateProgressBar=function(t){var e=(t.hideEta-(new Date).getTime())/t.maxHideTime*100;t.progressEle.style.width=e+"%"},o.prototype.setIcon=function(){if(!e.isNullOrUndefined(this.icon)&&0!==this.icon.length){var t=this.createElement("div",{className:"e-toast-icon e-icons "+this.icon});this.toastEle.appendChild(t)}},o.prototype.setTitle=function(){if(!e.isNullOrUndefined(this.title)){var t=this.createElement("div",{className:"e-toast-title"});t=this.fetchEle(t,this.title,"title");var i=this.createElement("div",{className:h});i.appendChild(t),this.toastEle.appendChild(i)}},o.prototype.setContent=function(){var t=this.createElement("div",{className:"e-toast-content"}),i=this.element;if(e.isNullOrUndefined(this.content)||""===this.content){var s=""!==this.element.innerHTML.replace(/\s/g,"");if((i.children.length>0||s)&&(!i.firstElementChild||!i.firstElementChild.classList.contains(a))){this.innerEle=document.createDocumentFragment();for(var o=this.createElement("div");0!==i.childNodes.length;)this.innerEle.appendChild(this.element.childNodes[0]);t.appendChild(this.innerEle),[].slice.call(t.children).forEach((function(t){o.appendChild(t.cloneNode(!0))})),this.content=o,this.appendMessageContainer(t)}}else"object"!=n()(this.content)||e.isNullOrUndefined(this.content.tagName)?(t=this.fetchEle(t,this.content,"content"),this.appendMessageContainer(t)):(t.appendChild(this.content),this.content=this.content.cloneNode(!0),this.appendMessageContainer(t))},o.prototype.appendMessageContainer=function(t){if(this.toastEle.querySelectorAll("."+h).length>0)this.toastEle.querySelector("."+h).appendChild(t);else{var e=this.createElement("div",{className:h});e.appendChild(t),this.toastEle.appendChild(e)}},o.prototype.actionButtons=function(){var t=this,s=this.createElement("div",{className:"e-toast-actions"});[].slice.call(this.buttons).forEach((function(n){if(!e.isNullOrUndefined(n.model)){var o=t.createElement("button");o.setAttribute("type","button"),(e.isNullOrUndefined(n.model.cssClass)||0===n.model.cssClass.length)&&(n.model.cssClass="e-primary"),o.classList.add("e-small"),new i.Button(n.model,o),e.isNullOrUndefined(n.click)||"function"!=typeof n.click||e.EventHandler.add(o,"click",n.click),s.appendChild(o)}})),s.childElementCount>0&&this.appendMessageContainer(s)},o.prototype.wireClientSideEvent=function(t){var i=this;if(this.isBlazorServer()){this.toastEle=this.element.lastElementChild,e.EventHandler.add(this.toastEle,"click",this.clickHandler,this),e.EventHandler.add(this.toastEle,"keydown",this.keyDownHandler,this);var s=0;[].slice.call(this.buttons).forEach((function(t){if(!e.isNullOrUndefined(t.model)){var n=i.toastEle.querySelectorAll(".e-toast-actions button")[s];e.isNullOrUndefined(t.click)||"function"!=typeof t.click||e.EventHandler.add(n,"click",t.click),s++}}))}},o.prototype.appendToTarget=function(t){var i=this,n=this.isBlazorServer()?{options:t,element:this.toastEle,cancel:!1}:{options:t,toastObj:this,element:this.toastEle,cancel:!1};this.trigger("beforeOpen",n,(function(n){if(n.cancel){if(i.isBlazorServer()){var o=parseInt(i.toastEle.id.split("toast_")[1],10);i.clearProgress(o),e.detach(i.toastEle),0===i.toastContainer.childElementCount&&i.clearContainerPos()}}else i.isBlazorServer()||(i.toastEle.style.display="none"),i.newestOnTop&&0!==i.toastContainer.childElementCount?i.toastContainer.insertBefore(i.toastEle,i.toastContainer.children[0]):i.isBlazorServer()||i.toastContainer.appendChild(i.toastEle),e.removeClass([i.toastEle],"e-blazor-toast-hidden"),e.EventHandler.add(i.toastEle,"click",i.clickHandler,i),e.EventHandler.add(i.toastEle,"keydown",i.keyDownHandler,i),i.toastContainer.style.zIndex=s.getZindexPartial(i.toastContainer)+"",i.displayToast(i.toastEle,t)}))},o.prototype.clickHandler=function(t){var i=this;this.isBlazorServer()||t.stopPropagation();var s=t.target,n=e.closest(s,"."+a),o=this.isBlazorServer()?{element:n,cancel:!1,clickToClose:!1,originalEvent:t}:{element:n,cancel:!1,clickToClose:!1,originalEvent:t,toastObj:this},r=s.classList.contains(p);this.trigger("click",o,(function(t){(r&&!t.cancel||t.clickToClose)&&i.destroyToast(n)}))},o.prototype.keyDownHandler=function(t){if(t.target.classList.contains(p)&&(13===t.keyCode||32===t.keyCode)){var i=t.target,s=e.closest(i,"."+a);this.destroyToast(s)}},o.prototype.displayToast=function(t,i){var s=this,n=this.animation.show,o={duration:n.duration,name:n.effect,timingFunction:n.easing},r=this.isBlazorServer()?{options:i,element:this.toastEle}:{options:i,toastObj:this,element:this.toastEle};o.begin=function(){t.style.display=""},o.end=function(){s.trigger("open",r)},new e.Animation(o).animate(t)},o.prototype.getContainer=function(){return this.element.classList.add("e-toast-container"),this.element},o.prototype.onPropertyChanged=function(t,e){for(var i=this.element,s=0,n=Object.keys(t);s<n.length;s++)switch(n[s]){case"enableRtl":t.enableRtl?i.classList.add("e-rtl"):i.classList.remove("e-rtl")}},l([e.Property("300px")],o.prototype,"width",void 0),l([e.Property("auto")],o.prototype,"height",void 0),l([e.Property(null)],o.prototype,"title",void 0),l([e.Property(null)],o.prototype,"content",void 0),l([e.Property(!0)],o.prototype,"enableHtmlSanitizer",void 0),l([e.Property(null)],o.prototype,"icon",void 0),l([e.Property(null)],o.prototype,"cssClass",void 0),l([e.Property(null)],o.prototype,"template",void 0),l([e.Property(!0)],o.prototype,"newestOnTop",void 0),l([e.Property(!1)],o.prototype,"showCloseButton",void 0),l([e.Property(!1)],o.prototype,"showProgressBar",void 0),l([e.Property(5e3)],o.prototype,"timeOut",void 0),l([e.Property(1e3)],o.prototype,"extendedTimeout",void 0),l([e.Complex({},m)],o.prototype,"animation",void 0),l([e.Complex({},c)],o.prototype,"position",void 0),l([e.Collection([{}],u)],o.prototype,"buttons",void 0),l([e.Property(null)],o.prototype,"target",void 0),l([e.Event()],o.prototype,"created",void 0),l([e.Event()],o.prototype,"beforeSanitizeHtml",void 0),l([e.Event()],o.prototype,"destroyed",void 0),l([e.Event()],o.prototype,"open",void 0),l([e.Event()],o.prototype,"beforeOpen",void 0),l([e.Event()],o.prototype,"close",void 0),l([e.Event()],o.prototype,"click",void 0),l([e.NotifyPropertyChanges],o)}(e.Component);return t.ToastPosition=c,t.ButtonModelProps=u,t.ToastAnimations=f,t.ToastAnimationSettings=m,t.Toast=y,t};window.checkDependencies(["base","buttons","popups"],(function(){sf.notifications=sf.notifications({},sf.base,sf.buttons,sf.popups)}))}}]);